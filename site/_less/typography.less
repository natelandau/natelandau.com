// ------------------------------------
//             DOCUMENT MANIFEST
//
//  Description: Contains all base site typography variables and information
//
//
//  1.  Important Variables:    Set these for everything else to work
//  2.  Typography mixins:      These are used throughout the site to set font sizes etc.
//  3.  Base Styles:            The base font sizes for p, h1, h2, code, etc.
//  4.
//  5.
//  6.
//  7.
//  8.
//  9.
//  10.
//
// ------------------------------------

// ------------------------------------------------------
// ---        IMPORTANT VARIABLES
// ------------------------------------------------------

@baseFontSize: 1.8; // Size is in Rem based on 62.5% reset. 1.6=16px
@goldenRatio: 1.618;

@sansFontFamily: "Lato", "Helvetica Neue", Helvetica, sans-serif;
@sansFontFamily2: "Lato", "Helvetica Neue", Helvetica, sans-serif;
@serifFontFamily: "Vollkorn", Georgia, serif;
@monoFontFamily: Menlo, Monaco, Consolas, "Courier New", monospace;
@heroFontFamily: "Vollkorn", Georgia, serif;

@baseFontFamily: @serifFontFamily;
@altFontFamily: @sansFontFamily;
@headingsFontFamily: @sansFontFamily;
@subheadingsFontFamily: @sansFontFamily2;

// Automatically generated variables
// --------------------------------------
@importantNumber: @baseFontSize * 0.87515451;
@baseFontPx: unit(round((@baseFontSize * 10), 0), px); // Computes base font size in 'px'
@baseLineHeight: unit(round((@baseFontSize * @goldenRatio), 0), px);
@pWidthCalc: (@baseFontSize * @goldenRatio * 18);

// Auto Generated Font Sizes
// -------------------------

@h1Size: (@h2Size * @goldenRatio);
@h2Size: (@h3Size * @goldenRatio);
@h3Size: (@h4Size * @goldenRatio);
@h4Size: (@h5Size * @goldenRatio);
@h5Size: @fontSizeMini; // All headings based here
@h6Size: (@importantNumber);

// These font sizes are based off of calculations made here: https://modularscale.com/
@fontSizeMini: (@baseFontSize * 0.444);
@fontSizeSmall: (@baseFontSize * 0.667);
@fontSizeBase: @baseFontSize;
@fontSizeMedium: (@baseFontSize * 1.5);
@fontSizeLarge: (@baseFontSize * 2.25);
@fontSizeXL: (@baseFontSize * 3.375);
@fontSizeHero: (@baseFontSize * 5.063);

// -------------------------
// TYPOGRAPHY MIXINS
// -------------------------

//  Usage:  '.FontSize' within any elements to include both font size and line-height
.fontSize(@fontSizeValue) {
    font-size: unit(round((@fontSizeValue * 10), 0), px);
    font-size: unit(round(@fontSizeValue, 4), rem);
    line-height: unit(round((@fontSizeValue * @goldenRatio * 10), 0), px);
    line-height: unit(round((@fontSizeValue * @goldenRatio), 4), rem);
}

//  Usage:  '.FontSize' within any elements to include only font size
.fontSizeOnly(@fontSizeValue) {
    font-size: unit(round((@fontSizeValue * 10), 0), px);
    font-size: unit(round(@fontSizeValue, 4), rem);
}
//  Usage:  '.lineHeight' within any elements to include only line-height
.lineHeight(@fontSizeValue) {
    line-height: unit(round((@fontSizeValue * @goldenRatio * 10), 0), px);
    line-height: unit(round((@fontSizeValue * @goldenRatio), 4), rem);
}

//  Usage:  '.fontSizePlusMargin' for all areas where a bottom margin should be applied.
//          i.e. - base content blocks such as p, h1, h2, etc
.fontSizeMargin(@fontSizeValue) {
    font-size: unit(round((@fontSizeValue * 10), 0), px);
    font-size: unit(round(@fontSizeValue, 4), rem);
    line-height: unit(round((@fontSizeValue * @goldenRatio * 10), 0), px);
    line-height: unit(round((@fontSizeValue * @goldenRatio), 4), rem);
    margin-bottom: unit(round((@fontSizeValue * @goldenRatio * 10), 0), px);
    margin-bottom: unit(round((@fontSizeValue * @goldenRatio), 4), rem);
}

//  Usage:  Used to find ideal width for text.  Use font size for @widthVariable
.widthCalc(@widthVariable) {
    width: unit(round((@widthVariable * @goldenRatio * 18 * 10), 0), px);
    width: unit(round((@widthVariable * @goldenRatio * 18), 4), rem);
}

// ------------------------------------
// ---        BASE STYLES
// ------------------------------------

// H6 Added here for increased font size in articles - not a header
h6 {
    font-weight: normal;
    margin-bottom: unit(round((@baseFontSize * @goldenRatio * 10), 0), px);
    margin-bottom: unit(round((@baseFontSize * @goldenRatio), 4), rem);
    margin-top: -18px;
    margin-top: -1.8rem;
    .fontSizeOnly((@baseFontSize * 2));
    .lineHeight((@baseFontSize * 1.8));
}

@media @smallPhones {
    h6 {
        font-weight: normal;
        .fontSizeOnly((@baseFontSize * 1.7));
        .lineHeight((@baseFontSize * 1.3));
        .transition(all 0.7s ease-in);
    }
}

p,
.content p,
.note,
.excerpt-more h6 {
    .fontSizeMargin((@baseFontSize + 0.2));
    &.center {
        text-align: center;
    }
    //    &.mini {.fontSize(@fontSizeSmall); }
    &.mini {
        .fontSize(@fontSizeMini);
    }
}

#content {
    .fontSize(@baseFontSize);
}

hr {
    padding: 0;
    border: none;
    border-top: medium double @textColor;
    color: @textColor;
    text-align: center;
    margin-left: 0px;
    margin-right: 0px;
    //margin-bottom : unit(round((@baseFontSize * @goldenRatio * 10),0),rem);
    //margin-bottom : unit(round((@baseFontSize * @goldenRatio),4),rem);
    margin-top: unit(round((@baseFontSize * @goldenRatio * 10), 0), rem);
    margin-top: unit(round((@baseFontSize * @goldenRatio), 4), rem);

    &:after {
        font-family: "FontAwesome";
        content: "\f18c";
        display: inline-block;
        position: relative;
        top: -0.8em;
        padding: 0 0.25em;
        background: @primaryLight;
    }
}

h1,
h2,
h3,
h4,
h5,
.content h1,
.content h2,
.content h3,
.content h4,
.content h5 {
    // Note that H6 size has been removed.  it is reserved for larger article text
    font-family: @sansFontFamily;
    margin-top: 0;
    margin-bottom: unit(round((@goldenRatio * 10), 0), px);
    margin-bottom: unit(@goldenRatio, rem);
    font-weight: 700;
    //font-variant: small-caps;
    text-transform: uppercase;
    //   letter-spacing: -0.12em;
}

h1,
.content h1 {
    .fontSize(@h1Size);
}

h2,
.content h2 {
    .fontSizeOnly(@h2Size);
    .lineHeight(2.5);
}

h3,
.content h3 {
    .fontSize(@h3Size);
}

h4,
.content h4 {
    .fontSize(@h3Size);
    font-family: @baseFontFamily;
    margin-bottom: 0;
}
h5,
.content h5 {
    .fontSize(@h5Size);
    margin-bottom: 0;
}
// h6, .content h6 {
//     .fontSize(@h6Size);
//     margin-bttom : 0;
// }

// smaller headers for phones
// -------------------------
@media @smallPhones {
    @smallPhoneReduction: (0.75);
    h1,
    .content h1 {
        .fontSizeOnly((@h1Size * @smallPhoneReduction));
        .lineHeight((@h2Size * @smallPhoneReduction));
    }

    h2,
    .content h2 {
        .fontSizeOnly((@h2Size * @smallPhoneReduction));
        .lineHeight((@h3Size * @smallPhoneReduction));
    }

    h3,
    .content h3 {
        .fontSizeOnly((@h3Size * @smallPhoneReduction));
        .lineHeight((@h4Size * @smallPhoneReduction));
    }

    h4,
    .content h4 {
        .fontSizeOnly((@h3Size * @smallPhoneReduction));
        .lineHeight((@h4Size * @smallPhoneReduction));
        margin-bottom: 0;
    }
    h5,
    .content h5 {
        .fontSizeOnly((@h5Size * @smallPhoneReduction));
        .lineHeight((@h6Size * @smallPhoneReduction));
        margin-bottom: 0;
    }
    // h6, .content h6 {
    //     .fontSize(@h6Size);
    //     margin-bttom : 0;
    // }
}

code {
    overflow: auto;
    font-family: @monoFontFamily;
    background: @grayDark;
    color: #c5c8c6;
    display: inline;
    padding: 2px 6px;
    text-rendering: optimizeSpeed;
    white-space: pre;
    .fontSizeOnly(1.4);
    .lineHeight(@fontSizeSmall);
    .border-radius(4px);
}

pre {
    margin: 0 0 30px 0;
    font-family: @monoFontFamily;
    .fontSize(1.4);
}

pre code {
    display: block;
    background: @grayDark;
    color: #c5c8c6;
    padding: 0.5em;
    text-rendering: optimizeSpeed;
    .font-smoothing;
    //  .box-shadow(~"2px 2px 6px rgba(000,000,000,0.5)" );
}

blockquote {
    //font-family  : @sansFontFamily;
    color: lighten(@textColor, 15%);
    display: block;
    border-left: 7px solid lighten(@textColor, 60%);
    background: lighten(@primaryLight, 4%);
    position: relative;

    .paddingTop(unit(@fontSizeMedium - 1.8));
    .paddingBottom(unit(@fontSizeMedium - 1.8));
    .paddingLeft(unit(@fontSizeMedium - 1));
    .paddingRight(unit(@fontSizeMedium - 1));
    .marginTop(unit(@fontSizeMedium - 1));
    .marginBottom(unit(@fontSizeMedium - 1));
    .marginLeft(unit(@fontSizeMedium - 1));
    .marginRight(unit(@fontSizeMedium - 1));
    &::before {
        color: lighten(@textColor, 60%);
        content: "\201C";
        position: absolute;
        left: -5px;
        top: -60px;
        .fontSize(unit(@fontSizeHero + 4));
    }
    &::after {
        content: "";
    }
    p {
        z-index: 2;
        .fontSize(@fontSizeBase);
        &:last-child {
            margin-bottom: 0;
        }
    }
}

@media @smallPhones {
    blockquote {
        margin-left: 0;
        margin-right: 0;
        border-left: none;
        .marginTop(unit(@fontSizeSmall - 0.5));
        .marginBottom(unit(@fontSizeSmall - 0.5));
        .paddingTop(unit(@fontSizeSmall - 1.8));
        .paddingBottom(unit(@fontSizeSmall - 1.8));
        .paddingLeft(unit(@fontSizeSmall + 1));
        .paddingRight(unit(@fontSizeSmall - 0.5));
        &::before {
            left: 0px;
            top: -20px;
            .fontSize(unit(@fontSizeHero + 0.5));
        }
        p {
            .fontSize(@fontSizeBase);
        }
    }
}

// ------------------------------------
// ---        LiNKS
// ------------------------------------

a {
    color: @linkColor;
    //font-weight   : bold;
    text-decoration: none;
    .transition(all 0.7s ease-in-out);
    &:hover {
        color: @linkColorHover;
        text-decoration: none;
        .transition(all 0.7s ease-in-out);
    }
    &:active {
        color: @linkActive;
    }
}

.post-content p a,
.post-content ul li a,
.post-content ol li a {
    // adds underline to links in articles only
    // border-bottom : dotted 1px @highlightOne;
    font-weight: bold;
    position: relative;
    // &:hover {
    //     border-bottom : dotted 1px @linkHover;
    // }
    &.btn {
        border-bottom: none;
    }
    &:before {
        content: "";
        position: absolute;
        width: 100%;
        height: 2px;
        bottom: 0;
        left: 0;
        background-color: @linkColorHover;
        visibility: hidden;
        .transform(scaleX(0));
        .transition(all 0.7s ease-in-out 0s);
    }
    &:hover:before {
        visibility: visible;
        .transform(scaleX(1));
    }
}

// Mixin Usage:  Set link colors per element
.links(@link-color, @link-color-hover) {
    a {
        color: @link-color;
        &:hover {
            color: @link-color-hover;
            .transition(all 0.7s ease-in);
        }
        &:visited {
            color: @link-color;
            .transition(all 0.7s ease-in);
        }
        &:active {
            color: darken(@link-color-hover, 20%);
            .transition(all 0s ease-in);
        }
    }
}

// ------------------------------------
// ---        LISTS
// ------------------------------------

.content ol,
.content ul {
    .marginBoth(@baseFontSize);
}

// Ordered and Unordered Lists
// ----------------------------
.post .post-content ul,
.post .post-content ol,
.posts ul,
.posts ol {
    margin: 0 0 30px 40px;
    .fontSize((@baseFontSize + 0.2));
}

@media @smallPhones {
    .post .post-content ul,
    .post .post-content ol,
    .posts ul,
    .posts ol {
        margin: 0 0 30px 10px;
    }
}

.post .post-content ol li,
.posts ol li {
    list-style-type: upper-roman;
    margin: 0 0 8px 0;
}

.post .post-content ul li,
.posts ul li {
    padding-left: 1.2em;
    list-style-type: none;
    &:before {
        content: "\F0DA";
        font-family: "FontAwesome";
        display: inline-block;
        margin-left: -1.2em;
        width: 1.2em;
        .font-smoothing;
    }
}

// ------------------------------------
// ---        SUNDRY
// ------------------------------------

sub,
sup {
    /* Specified in % so that the sup/sup is the
     right size relative to the surrounding text */
    font-size: 75%;
    /* Zero out the line-height so that it doesn't
     interfere with the positioning that follows */
    line-height: 0;
    /* Where the magic happens: makes all browsers position
     the sup/sup properly, relative to the surrounding text */
    position: relative;
    /* Note that if you're using Eric Meyer's reset.css, this
     is already set and you can remove this rule */
    vertical-align: baseline;
}
sup {
    /* Move the superscripted text up */
    top: -0.5em;
}
sub {
    /* Move the subscripted text down, but only
     half as far down as the superscript moved up */
    bottom: -0.25em;
}

// Tags within auto-generated link posts
p .linkPost-tags {
    display: inline-block;
    white-space: nowrap;
    font-family: @sansFontFamily;
    font-weight: 700;
    letter-spacing: 0.1em;
    .fontSize(1.2);
    a {
        background: @highlightOne;
        color: @textColorLight;
        padding: 2px 6px 4px 6px;
        margin: 0 2px 0 0;
        font-weight: 300;
        /* font-style: oblique; */
        .border-radius(3px);
        .transition(all 0.3s ease-in);
        .fontSize(1.1);
        &:hover {
            background: @grayDarker;
            .transition(all 0.3s ease-in);
        }
    }
}

.normal-override {
    font-weight: normal;
    text-transform: none;
}
